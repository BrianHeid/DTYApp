<template name= 'show_dashboard_page'>
	<p>{{> dashboard}}</p>

	{{#if isRequest}}
	<p>{{> requestPage}}</p>
	{{/if}}

	{{#if isCall}}
	<p>{{> processingRequestPage}}</p>
	{{/if}}

	{{#if isReserve}}
	<p>{{> reservePage}}</p>
	{{/if}}

	{{#if isTreatment}}
	<p>{{> treatmentPage}}</p>
	{{/if}}

	{{#if isFollowUp}}
	<p>{{> followupPage2}}</p>
	{{/if}}

	{{#if isReview}}
	<p>{{> reviewPage2}}</p>
	{{/if}}
</template>

<template name="dashboard">
	<h2 class="ui header container">
		<i class="dashboard icon"></i>
		<div class="content">
			Dashboard
		</div>
	</h2>

	<div class="ui six top attached steps">

		{{#if isRequest}}
		<a class="active step">
			<i class="hand paper icon"></i>
			<div class="content">
				<div class="title">Request</div>
				<div class="description">Request a consultation</div>
			</div>
		</a>
		{{else}}
		<a class="disabled step">
			<i class="hand paper icon"></i>
			<div class="content">
				<div class="title">Request</div>
				<div class="description">Request a consultation</div>
			</div>
		</a>
		{{/if}}

		{{#if isCall}}
		<a class="active step">
			<i class="call icon"></i>
			<div class="content">
				<div class="title">Call</div>
				<div class="description">Your doctor will call you</div>
			</div>
		</a>
		{{else}}
		<a class="disabled step">
			<i class="call icon"></i>
			<div class="content">
				<div class="title">Call</div>
				<div class="description">Your doctor will call you</div>
			</div>
		</a>
		{{/if}}

		{{#if isReserve}}
		<a class="active step">
			<i class="payment icon"></i>
			<div class="content">
				<div class="title">Reserve</div>
				<div class="description">Enter billing information to reserve a doctor</div>
			</div>
		</a>
		{{else}}
		<a class="disabled step">
			<i class="payment icon"></i>
			<div class="content">
				<div class="title">Reserve</div>
				<div class="description">Enter billing information to reserve a doctor</div>
			</div>
		</a>
		{{/if}}

		{{#if isTreatment}}
		<a class="active step">
			<i class="treatment icon"></i>
			<div class="content">
				<div class="title">Treatment</div>
				<div class="description">Your doctor will treat you</div>
			</div>
		</a>
		{{else}}
		<a class="disabled step">
			<i class="treatment icon"></i>
			<div class="content">
				<div class="title">Treatment</div>
				<div class="description">Your doctor will treat you</div>
			</div>
		</a>
		{{/if}}

		{{#if isFollowUp}}
		<a class="active step">
			<i class="comments outline icon"></i>
			<div class="content">
				<div class="title">Follow-up</div>
				<div class="description">Your doctor will follow-up with you</div>
			</div>
		</a>
		{{else}}
		<a class="disabled step">
			<i class="comments outline icon"></i>
			<div class="content">
				<div class="title">Follow-up</div>
				<div class="description">Your doctor will follow-up with you</div>
			</div>
		</a>
		{{/if}}

		{{#if isReview}}
		<a class="active step">
			<i class="file text icon"></i>
			<div class="content">
				<div class="title">Review</div>
				<div class="description">Review your care</div>
			</div>
		</a>
		{{else}}

		<a class="disabled step">
			<i class="file text icon"></i>
			<div class="content">
				<div class="title">Review</div>
				<div class="description">Review your care</div>
			</div>
		</a>
		{{/if}}
	</div>

	<!-- JavaScript -->
	<script type="text/javascript">
		$(document).ready(function(){

			// Allows Dashboard steps to be clickable and change templates
			$(document).on('click', '.step', function(){
				var selected = $(this).find('.title').text();
				Meteor.call('updateView', Meteor.userId(), selected);
			});
		});
	</script>
</template>


